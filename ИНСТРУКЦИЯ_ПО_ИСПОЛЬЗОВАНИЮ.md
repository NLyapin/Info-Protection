# Инструкция по использованию лабораторных работ

## Обзор

Данный проект содержит 13 лабораторных работ по криптографии, реализованных на Python. Все лабораторные работы адаптированы для работы на macOS и поддерживают как графический интерфейс (где возможно), так и консольный режим.

## Структура проекта

```
Защита информации/
├── lab1/          # Основные криптографические функции
├── lab2/          # Baby-Step Giant-Step алгоритм
├── lab3/          # Протокол Диффи-Хеллмана
├── lab4/          # Шифр Шамира
├── lab5/          # Шифр Эль-Гамаля
├── lab6/          # Шифр RSA
├── lab7/          # Шифр Вернама с Диффи-Хеллманом
├── lab8/          # Электронная подпись RSA
├── lab9/          # Электронная подпись Эль-Гамаля
├── lab10/         # Электронная подпись ГОСТ Р 34.10-94
├── lab11/         # Электронная подпись FIPS 186
├── lab12/         # Ментальный покер
├── lab13/         # Слепая подпись
├── test_all_labs.py  # Скрипт автоматического тестирования
└── ИНСТРУКЦИЯ_ПО_ИСПОЛЬЗОВАНИЮ.md
```

## Требования

- Python 3.6+
- macOS (адаптировано для совместимости)

## Быстрый старт

### 1. Автоматическое тестирование всех лабораторных работ

```bash
python3 test_all_labs.py
```

### 2. Тестирование отдельных лабораторных работ

#### Лабораторная работа №4 - Шифр Шамира
```bash
# Демонстрация
python3 lab4/lab4.py --mode demo

# Шифрование
python3 lab4/lab4.py --mode encrypt --input lab4/input.txt --output lab4/encrypted.txt

# Расшифрование
python3 lab4/lab4.py --mode decrypt --input lab4/encrypted.txt --output lab4/decrypted.txt
```

#### Лабораторная работа №5 - Шифр Эль-Гамаля
```bash
# Демонстрация
python3 lab5/lab5.py --mode demo

# Шифрование
python3 lab5/lab5.py --mode encrypt --input lab5/input.txt --output lab5/encrypted.txt

# Расшифрование
python3 lab5/lab5.py --mode decrypt --input lab5/encrypted.txt --output lab5/decrypted.txt
```

#### Лабораторная работа №6 - Шифр RSA
```bash
# Демонстрация
python3 lab6/lab6.py --mode demo

# Шифрование
python3 lab6/lab6.py --mode encrypt --input lab6/input.txt --output lab6/encrypted.txt

# Расшифрование
python3 lab6/lab6.py --mode decrypt --input lab6/encrypted.txt --output lab6/decrypted.txt
```

#### Лабораторная работа №7 - Шифр Вернама
```bash
# Демонстрация
python3 lab7/lab7.py --mode demo

# Шифрование
python3 lab7/lab7.py --mode encrypt --input lab7/input.txt --output lab7/encrypted.txt

# Расшифрование
python3 lab7/lab7.py --mode decrypt --input lab7/encrypted.txt --output lab7/decrypted.txt
```

#### Лабораторная работа №8 - Электронная подпись RSA
```bash
# Демонстрация
python3 lab8/lab8.py --mode demo

# Подписание
python3 lab8/lab8.py --mode sign --input lab8/input.txt --signature lab8/input.sig

# Проверка подписи
python3 lab8/lab8.py --mode verify --input lab8/input.txt --signature lab8/input.sig
```

#### Лабораторная работа №9 - Электронная подпись Эль-Гамаля
```bash
# Демонстрация
python3 lab9/lab9.py --mode demo

# Подписание
python3 lab9/lab9.py --mode sign --input lab9/input.txt --signature lab9/input.sig

# Проверка подписи
python3 lab9/lab9.py --mode verify --input lab9/input.txt --signature lab9/input.sig
```

#### Лабораторная работа №10 - Электронная подпись ГОСТ Р 34.10-94
```bash
# Демонстрация
python3 lab10/lab10.py --mode demo

# Подписание
python3 lab10/lab10.py --mode sign --input lab10/input.txt --signature lab10/input.sig

# Проверка подписи
python3 lab10/lab10.py --mode verify --input lab10/input.txt --signature lab10/input.sig
```

#### Лабораторная работа №11 - Электронная подпись FIPS 186
```bash
# Демонстрация
python3 lab11/lab11.py --mode demo

# Подписание
python3 lab11/lab11.py --mode sign --input lab11/input.txt --signature lab11/input.sig

# Проверка подписи
python3 lab11/lab11.py --mode verify --input lab11/input.txt --signature lab11/input.sig
```

#### Лабораторная работа №12 - Ментальный покер
```bash
# Демонстрация
python3 lab12/lab12.py --demo

# Интерактивный режим (консольный)
python3 lab12/lab12.py
```

#### Лабораторная работа №13 - Слепая подпись
```bash
# Демонстрация
python3 lab13/lab13.py --demo

# Интерактивный режим (консольный)
python3 lab13/lab13.py
```

## Доступные файлы для тестирования

- `lab4/input.txt` - Тестовый файл для шифра Шамира
- `lab5/input.txt` - Тестовый файл для шифра Эль-Гамаля
- `lab6/input.txt` - Тестовый файл для шифра RSA
- `lab7/input.txt` - Тестовый файл для шифра Вернама
- `lab8/input.txt` - Тестовый файл для электронной подписи RSA
- `lab9/input.txt` - Тестовый файл для электронной подписи Эль-Гамаля
- `lab10/input.txt` - Тестовый файл для электронной подписи ГОСТ Р 34.10-94
- `lab11/input.txt` - Тестовый файл для электронной подписи FIPS 186
- `test_message.txt` - Универсальный тестовый файл
- `short_test.txt` - Короткий тестовый файл

## Особенности для macOS

1. **Графический интерфейс**: На macOS графический интерфейс отключен для предотвращения ошибок совместимости. Все программы автоматически переключаются в консольный режим.

2. **Консольный режим**: Все лабораторные работы поддерживают интерактивный консольный режим для ввода параметров.

3. **Совместимость**: Все программы протестированы на macOS и работают без дополнительных зависимостей.

## Режимы работы

### Демонстрационный режим (`--mode demo`)
Показывает работу алгоритма на примере с небольшими числами и выводит подробную информацию о каждом шаге.

### Шифрование/Подписание (`--mode encrypt/sign`)
Выполняет шифрование файла или создание электронной подписи.

### Расшифрование/Проверка (`--mode decrypt/verify`)
Выполняет расшифрование файла или проверку электронной подписи.

## Параметры командной строки

- `--input` - Входной файл
- `--output` - Выходной файл
- `--signature` - Файл подписи
- `--bits` - Количество бит для генерации простых чисел (по умолчанию 32)
- `--fermat-k` - Количество испытаний для теста Ферма (по умолчанию 8)

## Устранение неполадок

1. **Ошибка "No module named 'tkinter'"**: Это нормально на macOS - программы автоматически переключаются в консольный режим.

2. **Ошибка "File not found"**: Убедитесь, что вы запускаете команды из корневой директории проекта.

3. **Ошибка "Permission denied"**: Убедитесь, что у вас есть права на запись в директорию.

## Дополнительная информация

Каждая лабораторная работа содержит:
- Подробный README.md с описанием алгоритма
- Примеры использования
- Математические формулы
- Объяснение криптографических принципов

Для получения дополнительной информации о конкретной лабораторной работе см. соответствующий README.md файл в директории labX/.
